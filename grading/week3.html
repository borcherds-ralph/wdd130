<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Grading Week 3</title>
        <link rel="stylesheet" href="styles/styles.css">
    </head>

    <body>
        <header>
            <nav>
                <a href="week3.html.html">Week 3</a>
                <a href="week4.html.html">Week 4</a>
                <a href="week5.html.html">Week 5</a>
                <a href="week7.html.html">Week 7</a>
            </nav>
        </header>
        <main>
            <h1>Week 3 Elements</h1>
            <div class="form">
                <label for="url">Enter the Student URL from github.io</label>
                <input type="text" name="url" id="url">
            </div>
            <input type="button" onclick="checkRubric()"
                value="Check Rubric Elements">
            <p class="nav-links">The student included 4 links in the header
                section on their home page inside nav tag.</p>
            <p id="nav-links"></p>
            <p class="hero">This criterion is linked to a Learning OutcomeOne
                wide banner/hero image was included in the website.</p>
            <p id="hero"></p>
            <p class="numb-img">The student included all other required images
                on the home page.</p>
            <p id="numb-img"></p>
            <p class="cards">This criterion is linked to a Learning OutcomeThe
                student incorporated three cards into their home page.</p>
            <p id="cards"></p>
            <p class="copyright">The student included the copyright information.
            </p>
            <p id="copyright"></p>
            <p class="validhtml">This criterion is linked to a Learning
                OutcomeSemantic and valid HTML was used to organize and group
                HTML elements where instructed.</p>
            <a id="validhtml" target="_blank" class="hidden">Validate
                URL</a>
            <div id="page" class="hidden"></div>
        </main>
        <script>
            var url = document.getElementById("url").value;
            const navlinks = document.getElementById("nav-links");
            const hero = document.getElementById("hero");
            const imgnumb = document.getElementById("numb-img");
            const cards = document.getElementById("cards");
            const copyright = document.getElementById("copyright");
            const page = document.getElementById("page");


            function output(data) {
                page.innerHTML = this.responseText;
                navlinks.innerHTML = document.getElementsByTagName('nav')[1].childElementCount;
                if (document.getElementById('hero-img') == null) {
                    hero.innerHTML = "Not There";
                } else {
                    hero.innerHTML = "code there";
                };
                imgnumb.innerHTML = document.getElementsByTagName('img').length;
                cards.innerHTML = document.querySelectorAll('section [class^=card]').length;
                copyright.innerHTML = document.getElementsByTagName('footer')['0'].firstElementChild.innerHTML;
                validhtml.href = 'https://validator.w3.org/nu/?doc=' + url;
                validhtml.style["display"] = "block";
            }

            function checkRubric() {
                const req = new XMLHttpRequest();

                req.addEventListener("load", output);
                req.open("GET", url);
                req.responseType = "text";
                req.send();


                // navlinks = student.links.count;
                // document.getElementById('nav-links').innerHTML = navlinks;
                // navlinks = navlink(req.responseXML.body);
            }
        </script>
    </body>

</html>